<%- include('../partials/header') %>
<div class="container-fluid text-center" style="height: 90vh">
  <div class="text-center mt-4">
    <img src="<%= user.avatar %>" alt="Profile Photo" style="height: 20vh" />
    <h4><%= user.name %></h4>
  </div>

  <div class="container m-3">
    <div class="card">
      <div class="card-header">
        <h3 class="text-center">Reservations</h3>
      </div>
      <div class="card-body">
        <table class="table">
          <thead>
            <th>Start Date</th>
            <th>Number of Days</th>
          </thead>
          <tbody>
            <!-- .. -->
            <% reservationR.forEach((res) => { %>
            <!-- .. -->
            <% res.reservations.forEach((r) => { %>
            <!-- .. -->
            <% if (r.host.equals(user._id)) { %>
            <!-- .. -->
            <% console.log(r) %>
            <tr>
              <td><%= r.startDate.toString().slice(0, 16) %></td>
              <td><%= r.numberOfDays %></td>
              <td><%= r.name %></td>
            </tr>
            <% } %>
            <!-- .. -->
            <% }) %>
            <!-- .. -->
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <!-- // User Listings -->

  <!-- .. -->
  <div class="container m-3">
    <div class="card">
      <div class="card-header">
        <h3 class="text-center">Listings</h3>
      </div>
      <card class="card-body">
        <table class="table">
          <thead>
            <th>Model</th>
            <th>Seats</th>
            <th>Airport</th>
          </thead>
          <tbody>
            <% myListings.forEach((l) => { %>
            <tr>
              <td><%= l.model %></td>
              <td><%= l.seats %></td>
              <td><%= l.airport %></td>
              <% }) %>
            </tr>
          </tbody>
        </table>
      </card>
    </div>
  </div>
  <div class="m-3"></div>
</div>
<div class="container mt-5"></div>
<%- include('../partials/footer') %>
